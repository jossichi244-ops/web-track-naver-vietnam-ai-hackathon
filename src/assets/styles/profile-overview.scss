/*
  ==============================================================
  SCSS cho ProfileOverview: Thiết kế theo phong cách Web3 Dashboard.
  Tạo ra một giao diện tối giản, hiện đại với các hiệu ứng ánh sáng neon,
  chuyển động tinh tế và font chữ công nghệ.
  ==============================================================
*/

// --- 1. Variables (Biến) ---
$primary-color: #00ffc0; // Neon Green
$secondary-color: #4a90e2; // Electric Blue
$background-color: #0d1a2d; // Dark Blue
$card-bg: #162a43; // Lighter Dark Blue for cards
$text-color-light: #e0e6ef; // Soft White
$text-color-muted: #8a96a9;
$border-color: rgba($primary-color, 0.2);

// --- 2. Mixins (Hàm tái sử dụng) ---
@mixin glow-effect($color) {
  box-shadow: 0 0 10px rgba($color, 0.6), 0 0 20px rgba($color, 0.3);
}

@mixin transition-ease {
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

// --- 3. Keyframes (Animations) ---
@keyframes enter-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-fill {
  0% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.5;
  }
}

// --- 4. Main Styles (Styles chính) ---
.profile-overview-container {
  border: 1px solid $border-color;
  border-radius: 1.5rem;
  padding: 2rem;
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3); // Tạo chiều sâu

  @include transition-ease;
  animation: enter-up 0.6s ease-out forwards;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4),
      0 0 20px rgba($primary-color, 0.2);
  }
}

.productivity-stats {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;

  @media (min-width: 768px) {
    grid-template-columns: 1fr 1fr;
  }

  > div {
    background: rgba($background-color, 0.3);
    border: 1px dashed rgba($text-color-light, 0.1);
    border-radius: 0.75rem;
    padding: 1.5rem;
    position: relative;
    overflow: hidden;

    // Hiệu ứng "glitch" nhẹ nhàng ở góc
    &::before {
      content: "";
      position: absolute;
      top: -5px;
      left: -5px;
      width: 15px;
      height: 15px;
      border-top: 2px solid $secondary-color;
      border-left: 2px solid $secondary-color;
      opacity: 0.5;
    }
    &::after {
      content: "";
      position: absolute;
      bottom: -5px;
      right: -5px;
      width: 15px;
      height: 15px;
      border-bottom: 2px solid $secondary-color;
      border-right: 2px solid $secondary-color;
      opacity: 0.5;
    }
  }

  h3 {
    color: $text-color-muted;
    font-size: 1rem;
    font-weight: 500;
    letter-spacing: 0.5px;
    margin-bottom: 0.5rem;
  }

  .score-value {
    color: $primary-color;
    font-size: 3.5rem;
    font-weight: 800;
    line-height: 1;
    text-shadow: 0 0 15px rgba($primary-color, 0.7);
    font-family: "Roboto Mono", monospace; // Font code
  }

  .task-count {
    color: $text-color-muted;
    font-size: 0.875rem;
  }
}

.task-overview-chart {
  .recharts-legend-item {
    font-family: "Inter", sans-serif;
    color: $text-color-muted;
  }
}

.pie-chart {
  .recharts-pie-sector {
    @include transition-ease;
    cursor: pointer;

    &:hover {
      transform: scale(1.05);
      filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.4));
    }
  }
}

// --- 5. Toggle Button (Nút bật/tắt) ---
.toggle-section {
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-top: 1px solid rgba($text-color-light, 0.1);
  padding-top: 2rem;
  margin-top: 2rem;

  .toggle-label {
    color: $text-color-light;
    font-weight: 600;
  }

  .toggle-button {
    font-family: "Roboto Mono", monospace;
    font-weight: bold;
    text-transform: uppercase;

    // Base styles
    padding: 0.75rem 1.5rem;
    border-radius: 9999px;
    border: none;
    cursor: pointer;
    @include transition-ease;
    position: relative;
    overflow: hidden;

    &.enabled {
      background-color: transparent;
      color: $primary-color;
      border: 2px solid $primary-color;
      @include glow-effect($primary-color);

      &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: $primary-color;
        opacity: 0.1;
        z-index: -1;
      }
    }

    &.disabled {
      background-color: transparent;
      color: $text-color-muted;
      border: 2px solid $text-color-muted;

      &:hover {
        background-color: rgba($text-color-muted, 0.1);
      }
    }

    &:hover {
      transform: translateY(-2px);
    }
  }
}
